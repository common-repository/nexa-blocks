(()=>{"use strict";var e={17:e=>{e.exports=function e(t,n){if(t===n)return!0;if(t&&n&&"object"==typeof t&&"object"==typeof n){if(t.constructor!==n.constructor)return!1;var o,r,a;if(Array.isArray(t)){if((o=t.length)!=n.length)return!1;for(r=o;0!=r--;)if(!e(t[r],n[r]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if((o=(a=Object.keys(t)).length)!==Object.keys(n).length)return!1;for(r=o;0!=r--;)if(!Object.prototype.hasOwnProperty.call(n,a[r]))return!1;for(r=o;0!=r--;){var s=a[r];if(!e(t[s],n[s]))return!1}return!0}return t!=t&&n!=n}},338:(e,t,n)=>{var o=n(795);t.H=o.createRoot,o.hydrateRoot},795:e=>{e.exports=window.ReactDOM}},t={};function n(o){var r=t[o];if(void 0!==r)return r.exports;var a=t[o]={exports:{}};return e[o](a,a.exports,n),a.exports}const o=window.React;var r=n(338),a=n(795),s=n(17);function l(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,"string");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}function i(){return i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},i.apply(this,arguments)}function u(e,t){if(null==e)return{};var n,o,r={},a=Object.keys(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}const c={NOT_LOADED:"NOT_LOADED",LOADING:"LOADING",LOADED:"LOADED",FAILED:"FAILED",AUTH_FAILURE:"AUTH_FAILURE"};class d{static async load(e,t){var n;const o=e.libraries?e.libraries.split(","):[],r=this.serializeParams(e);this.listeners.push(t),null!=(n=window.google)&&null!=(n=n.maps)&&n.importLibrary?(this.serializedApiParams||(this.loadingStatus=c.LOADED),this.notifyLoadingStatusListeners()):(this.serializedApiParams=r,this.initImportLibrary(e)),this.serializedApiParams&&this.serializedApiParams!==r&&console.warn("[google-maps-api-loader] The maps API has already been loaded with different parameters and will not be loaded again. Refresh the page for new values to have effect.");const a=["maps",...o];await Promise.all(a.map((e=>google.maps.importLibrary(e))))}static serializeParams(e){return[e.v,e.key,e.language,e.region,e.authReferrerPolicy,e.solutionChannel].join("/")}static initImportLibrary(e){if(window.google||(window.google={}),window.google.maps||(window.google.maps={}),window.google.maps.importLibrary)return void console.error("[google-maps-api-loader-internal]: initImportLibrary must only be called once");let t=null;const n=()=>t||(t=new Promise(((t,n)=>{var o;const r=document.createElement("script"),a=new URLSearchParams;for(const[t,n]of Object.entries(e)){const e=t.replace(/[A-Z]/g,(e=>"_"+e[0].toLowerCase()));a.set(e,n)}a.set("loading","async"),a.set("callback","__googleMapsCallback__"),r.async=!0,r.src="https://maps.googleapis.com/maps/api/js?"+a.toString(),r.nonce=(null==(o=document.querySelector("script[nonce]"))?void 0:o.nonce)||"",r.onerror=()=>{this.loadingStatus=c.FAILED,this.notifyLoadingStatusListeners(),n(new Error("The Google Maps JavaScript API could not load."))},window.__googleMapsCallback__=()=>{this.loadingStatus=c.LOADED,this.notifyLoadingStatusListeners(),t()},window.gm_authFailure=()=>{this.loadingStatus=c.AUTH_FAILURE,this.notifyLoadingStatusListeners()},this.loadingStatus=c.LOADING,this.notifyLoadingStatusListeners(),document.head.append(r)})),t);google.maps.importLibrary=e=>n().then((()=>google.maps.importLibrary(e)))}static notifyLoadingStatusListeners(){for(const e of this.listeners)e(this.loadingStatus)}}d.loadingStatus=c.NOT_LOADED,d.serializedApiParams=void 0,d.listeners=[];const p=["onLoad","apiKey","version","libraries"],m=["children"],g=o.createContext(null),f=e=>{const{children:t}=e,n=u(e,m),{mapInstances:r,addMapInstance:a,removeMapInstance:s,clearMapInstances:c}=function(){const[e,t]=(0,o.useState)({});return{mapInstances:e,addMapInstance:(e,n="default")=>{t((t=>i({},t,{[n]:e})))},removeMapInstance:(e="default")=>{t((t=>u(t,[e].map(l))))},clearMapInstances:()=>{t({})}}}(),{status:f,loadedLibraries:h,importLibrary:v}=function(e){const{onLoad:t,apiKey:n,version:r,libraries:a=[]}=e,s=u(e,p),[l,c]=(0,o.useState)(d.loadingStatus),[m,g]=(0,o.useReducer)(((e,t)=>i({},e,{[t.name]:t.value})),{}),f=(0,o.useMemo)((()=>null==a?void 0:a.join(",")),[a]),h=(0,o.useMemo)((()=>JSON.stringify(i({apiKey:n,version:r},s))),[n,r,s]),v=(0,o.useCallback)((async e=>{var t;if(m[e])return m[e];if(null==(t=google)||null==(t=t.maps)||!t.importLibrary)throw new Error("[api-provider-internal] importLibrary was called before google.maps.importLibrary was defined.");const n=await window.google.maps.importLibrary(e);return g({name:e,value:n}),n}),[m]);return(0,o.useEffect)((()=>{(async()=>{try{const e=i({key:n},s);r&&(e.v=r),(null==f?void 0:f.length)>0&&(e.libraries=f),void 0===e.solutionChannel?e.solutionChannel="GMP_visgl_rgmlibrary_v1_default":""===e.solutionChannel&&delete e.solutionChannel,await d.load(e,(e=>c(e)));for(const e of["core","maps",...a])await v(e);t&&t()}catch(e){console.error("<ApiProvider> failed to load the Google Maps JavaScript API",e)}})()}),[n,f,h]),{status:l,loadedLibraries:m,importLibrary:v}}(n),b=(0,o.useMemo)((()=>({mapInstances:r,addMapInstance:a,removeMapInstance:s,clearMapInstances:c,status:f,loadedLibraries:h,importLibrary:v})),[r,a,s,c,f,h,v]);return o.createElement(g.Provider,{value:b},t)};function h(e,t,n){const o={type:e,map:t,detail:{},stoppable:!1,stop:()=>{}};if(b.includes(e)){const e=o,n=t.getCenter(),r=t.getZoom(),a=t.getHeading()||0,s=t.getTilt()||0,l=t.getBounds();return n&&l&&Number.isFinite(r)||console.warn("[createEvent] at least one of the values from the map returned undefined. This is not expected to happen. Please report an issue at https://github.com/visgl/react-google-maps/issues/new"),e.detail={center:(null==n?void 0:n.toJSON())||{lat:0,lng:0},zoom:r||0,heading:a,tilt:s,bounds:(null==l?void 0:l.toJSON())||{north:90,east:180,south:-90,west:-180}},e}if(y.includes(e)){var r;if(!n)throw new Error("[createEvent] mouse events must provide a srcEvent");const e=o;return e.domEvent=n.domEvent,e.stoppable=!0,e.stop=()=>n.stop(),e.detail={latLng:(null==(r=n.latLng)?void 0:r.toJSON())||null,placeId:n.placeId},e}return o}const v={onBoundsChanged:"bounds_changed",onCenterChanged:"center_changed",onClick:"click",onContextmenu:"contextmenu",onDblclick:"dblclick",onDrag:"drag",onDragend:"dragend",onDragstart:"dragstart",onHeadingChanged:"heading_changed",onIdle:"idle",onIsFractionalZoomEnabledChanged:"isfractionalzoomenabled_changed",onMapCapabilitiesChanged:"mapcapabilities_changed",onMapTypeIdChanged:"maptypeid_changed",onMousemove:"mousemove",onMouseout:"mouseout",onMouseover:"mouseover",onProjectionChanged:"projection_changed",onRenderingTypeChanged:"renderingtype_changed",onTilesLoaded:"tilesloaded",onTiltChanged:"tilt_changed",onZoomChanged:"zoom_changed",onCameraChanged:"bounds_changed"},b=["bounds_changed","center_changed","heading_changed","tilt_changed","zoom_changed"],y=["click","contextmenu","dblclick","mousemove","mouseout","mouseover"],C=Object.keys(v);function w(e,t){const n=(0,o.useRef)(void 0);n.current&&s(t,n.current)||(n.current=t),(0,o.useEffect)(e,n.current)}const E=new Set(["backgroundColor","clickableIcons","controlSize","disableDefaultUI","disableDoubleClickZoom","draggable","draggableCursor","draggingCursor","fullscreenControl","fullscreenControlOptions","gestureHandling","isFractionalZoomEnabled","keyboardShortcuts","mapTypeControl","mapTypeControlOptions","mapTypeId","maxZoom","minZoom","noClear","panControl","panControlOptions","restriction","rotateControl","rotateControlOptions","scaleControl","scaleControlOptions","scrollwheel","streetView","streetViewControl","streetViewControlOptions","styles","zoomControl","zoomControlOptions"]);function O(){var e;return(null==(e=(0,o.useContext)(g))?void 0:e.status)||c.NOT_LOADED}function S(e){return function(e){return!(!e||"object"!=typeof e)&&"lat"in e&&"lng"in e&&Number.isFinite(e.lat)&&Number.isFinite(e.lng)}(e)?e:e.toJSON()}const L=()=>o.createElement("div",{style:{position:"absolute",top:0,left:0,bottom:0,right:0,zIndex:999,display:"flex",flexFlow:"column nowrap",textAlign:"center",justifyContent:"center",fontSize:".8rem",color:"rgba(0,0,0,0.6)",background:"#dddddd",padding:"1rem 1.5rem"}},o.createElement("h2",null,"Error: AuthFailure"),o.createElement("p",null,"A problem with your API key prevents the map from rendering correctly. Please make sure the value of the ",o.createElement("code",null,"APIProvider.apiKey")," prop is correct. Check the error-message in the console for further details."));function I(){return O()===c.LOADED}const k=["id","defaultBounds","defaultCenter","defaultZoom","defaultHeading","defaultTilt","reuseMaps"],A=["padding"];class x{static has(e){return this.entries[e]&&this.entries[e].length>0}static pop(e){return this.entries[e]&&this.entries[e].pop()||null}static push(e,t){this.entries[e]||(this.entries[e]=[]),this.entries[e].push(t)}}function M(e,t){const n=I(),[r,a]=(0,o.useState)(null),[s,l]=function(){const[e,t]=(0,o.useState)(null);return[e,(0,o.useCallback)((e=>t(e)),[t])]}(),i=function(e){const t=function(){const[,e]=(0,o.useReducer)((e=>e+1),0);return e}(),n=(0,o.useRef)({center:{lat:0,lng:0},heading:0,tilt:0,zoom:0});return(0,o.useEffect)((()=>{if(!e)return;const o=google.maps.event.addListener(e,"bounds_changed",(()=>{!function(e,t){const n=e.getCenter(),o=e.getZoom(),r=e.getHeading()||0,a=e.getTilt()||0,s=e.getBounds();n&&s&&Number.isFinite(o)||console.warn("[useTrackedCameraState] at least one of the values from the map returned undefined. This is not expected to happen. Please report an issue at https://github.com/visgl/react-google-maps/issues/new"),Object.assign(t.current,{center:(null==n?void 0:n.toJSON())||{lat:0,lng:0},zoom:o||0,heading:r,tilt:a})}(e,n),t()}));return()=>o.remove()}),[e,t]),n}(r),{id:c,defaultBounds:d,defaultCenter:p,defaultZoom:m,defaultHeading:g,defaultTilt:f,reuseMaps:h}=e,v=u(e,k),b=void 0!==e.zoom||void 0!==e.defaultZoom,y=void 0!==e.center||void 0!==e.defaultCenter;d||b&&y||console.warn("<Map> component is missing configuration. You have to provide zoom and center (via the `zoom`/`defaultZoom` and `center`/`defaultCenter` props) or specify the region to show using `defaultBounds`. See https://visgl.github.io/react-google-maps/docs/api-reference/components/map#required"),!v.center&&p&&(v.center=p),!v.zoom&&Number.isFinite(m)&&(v.zoom=m),!v.heading&&Number.isFinite(g)&&(v.heading=g),!v.tilt&&Number.isFinite(f)&&(v.tilt=f);for(const e of Object.keys(v))void 0===v[e]&&delete v[e];const C=(0,o.useRef)();return(0,o.useEffect)((()=>{if(!s||!n)return;const{addMapInstance:o,removeMapInstance:r}=t,l=e.mapId,p=l||"default";let m,g;if(h&&x.has(p)?(g=x.pop(p),m=g.getDiv(),s.appendChild(m),g.setOptions(v),setTimeout((()=>g.setCenter(g.getCenter())),0)):(m=document.createElement("div"),m.style.height="100%",s.appendChild(m),g=new google.maps.Map(m,v)),a(g),o(g,c),d){const{padding:e}=d,t=u(d,A);g.fitBounds(t,e)}else b&&y||g.fitBounds({east:180,west:-180,south:-90,north:90});if(C.current){const{mapId:e,cameraState:t}=C.current;e!==l&&g.setOptions(t)}return()=>{C.current={mapId:l,cameraState:i.current},m.remove(),h?x.push(p,g):google.maps.event.clearInstanceListeners(g),a(null),r(c)}}),[s,n,c,e.mapId]),[r,l,i]}x.entries={};const P=o.createContext(null),z=e=>{const{children:t,id:n,className:r,style:a}=e,s=(0,o.useContext)(g),l=O();if(!s)throw new Error("<Map> can only be used inside an <ApiProvider> component.");const[u,d,p]=M(e,s);!function(e,t,n){const r=n.center?S(n.center):null;let a=null,s=null;r&&Number.isFinite(r.lat)&&Number.isFinite(r.lng)&&(a=r.lat,s=r.lng);const l=Number.isFinite(n.zoom)?n.zoom:null,i=Number.isFinite(n.heading)?n.heading:null,u=Number.isFinite(n.tilt)?n.tilt:null;(0,o.useLayoutEffect)((()=>{if(!e)return;const n={};let o=!1;null===a||null===s||t.current.center.lat===a&&t.current.center.lng===s||(n.center={lat:a,lng:s},o=!0),null!==l&&t.current.zoom!==l&&(n.zoom=l,o=!0),null!==i&&t.current.heading!==i&&(n.heading=i,o=!0),null!==u&&t.current.tilt!==u&&(n.tilt=u,o=!0),o&&e.moveCamera(n)}))}(u,p,e),function(e,t){for(const n of C){const r=t[n],a=v[n];(0,o.useEffect)((()=>{if(!e)return;if(!r)return;const t=google.maps.event.addListener(e,a,(t=>{r(h(a,e,t))}));return()=>t.remove()}),[e,a,r])}}(u,e),function(e,t){const n={},o=Object.keys(t);for(const e of o)E.has(e)&&(n[e]=t[e]);w((()=>{e&&e.setOptions(n)}),[n])}(u,e);const m=function(e,t){const{viewport:n,viewState:r}=t,a=!!n;return(0,o.useLayoutEffect)((()=>{if(!e||!r)return;const{latitude:t,longitude:n,bearing:o,pitch:a,zoom:s}=r;e.moveCamera({center:{lat:t,lng:n},heading:o,tilt:a,zoom:s+1})}),[e,r]),a}(u,e),f=!!e.controlled;(0,o.useEffect)((()=>{if(u)return m&&u.setOptions({disableDefaultUI:!0}),(m||f)&&u.setOptions({gestureHandling:"none",keyboardShortcuts:!1}),()=>{u.setOptions({gestureHandling:e.gestureHandling,keyboardShortcuts:e.keyboardShortcuts})}}),[u,m,f,e.gestureHandling,e.keyboardShortcuts]);const b=e.center?S(e.center):null;let y=null,I=null;b&&Number.isFinite(b.lat)&&Number.isFinite(b.lng)&&(y=b.lat,I=b.lng);const k=(0,o.useMemo)((()=>{var t,n,o,r,a;return{center:{lat:null!=(t=y)?t:0,lng:null!=(n=I)?n:0},zoom:null!=(o=e.zoom)?o:0,heading:null!=(r=e.heading)?r:0,tilt:null!=(a=e.tilt)?a:0}}),[y,I,e.zoom,e.heading,e.tilt]);(0,o.useLayoutEffect)((()=>{if(!u||!f)return;u.moveCamera(k);const e=u.addListener("bounds_changed",(()=>{u.moveCamera(k)}));return()=>e.remove()}),[u,f,k]);const A=(0,o.useMemo)((()=>i({width:"100%",height:"100%",position:"relative",zIndex:m?-1:0},a)),[a,m]),x=(0,o.useMemo)((()=>({map:u})),[u]);return l===c.AUTH_FAILURE?o.createElement("div",{style:i({position:"relative"},r?{}:A),className:r},o.createElement(L,null)):o.createElement("div",i({ref:d,"data-testid":"map",style:r?void 0:A,className:r},n?{id:n}:{}),u?o.createElement(P.Provider,{value:x},t):null)};z.deckGLViewProps=!0;const D=new Set;const N=(e=null)=>{const t=(0,o.useContext)(g),{map:n}=(0,o.useContext)(P)||{};if(null===t)return function(...e){const t=JSON.stringify(e);D.has(t)||(D.add(t),console.error(...e))}("useMap(): failed to retrieve APIProviderContext. Make sure that the <APIProvider> component exists and that the component you are calling `useMap()` from is a sibling of the <APIProvider>."),null;const{mapInstances:r}=t;return null!==e?r[e]||null:n||r.default||null};function _(e){const t=I(),n=(0,o.useContext)(g);return(0,o.useEffect)((()=>{t&&n&&n.importLibrary(e)}),[t,n,e]),(null==n?void 0:n.loadedLibraries[e])||null}function F(e,t,n){if(null!=t&&"object"!=typeof t)throw new Error("The `style` prop expects a mapping from style properties to values, not a string. For example, style={{marginRight: spacing + 'em'}} when using JSX.");const o=e.style;if(null!=n){for(const e in n)!n.hasOwnProperty(e)||null!=t&&t.hasOwnProperty(e)||(0===e.indexOf("--")?o.setProperty(e,""):"float"===e?o.cssFloat="":o[e]="");if(null!=t)for(const e in t){const r=t[e];t.hasOwnProperty(e)&&n[e]!==r&&T(o,e,r)}}else{if(null==t)return;for(const e in t)t.hasOwnProperty(e)&&T(o,e,t[e])}}function T(e,t,n){const o=0===t.indexOf("--");var r;null==n||"boolean"==typeof n||""===n?o?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":o?e.setProperty(t,n):"number"!=typeof n||0===n||(r=t,R.has(r))?"float"===t?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}const R=new Set(["animationIterationCount","aspectRatio","borderImageOutset","borderImageSlice","borderImageWidth","boxFlex","boxFlexGroup","boxOrdinalGroup","columnCount","columns","flex","flexGrow","flexPositive","flexShrink","flexNegative","flexOrder","gridArea","gridRow","gridRowEnd","gridRowSpan","gridRowStart","gridColumn","gridColumnEnd","gridColumnSpan","gridColumnStart","fontWeight","lineClamp","lineHeight","opacity","order","orphans","scale","tabSize","widows","zIndex","zoom","fillOpacity","floodOpacity","stopOpacity","strokeDasharray","strokeDashoffset","strokeMiterlimit","strokeOpacity","strokeWidth"]);function j(e,t,n){(0,o.useEffect)((()=>{if(!e||!t||!n)return;const o=google.maps.event.addListener(e,t,n);return()=>o.remove()}),[e,t,n])}function H(e,t,n){(0,o.useEffect)((()=>{e&&(e[t]=n)}),[e,t,n])}const Z=o.createContext(null);(0,o.forwardRef)(((e,t)=>{const{children:n}=e,[r,s]=function(e){const[t,n]=(0,o.useState)(null),[r,a]=(0,o.useState)(null),s=(0,o.useRef)(null),l=N(),i=_("marker"),{children:u,className:c,style:d,onClick:p,onDrag:m,onDragStart:g,onDragEnd:f,collisionBehavior:h,clickable:v,draggable:b,position:y,title:C,zIndex:w}=e,E=o.Children.count(u);return(0,o.useEffect)((()=>{if(!l||!i)return;const e=new i.AdvancedMarkerElement;e.map=l,n(e);let t=null;return E>0&&(t=document.createElement("div"),e.content=t,a(t)),()=>{var o;e.map=null,null==(o=t)||o.remove(),n(null),a(null)}}),[l,i,E]),(0,o.useEffect)((()=>{t&&t.content&&(t.content.className=c||"")}),[t,c]),H(r,"className",null!=c?c:""),(0,o.useEffect)((()=>{r&&(F(r,d||null,s.current),s.current=d||null)}),[r,c,d]),H(t,"position",y),H(t,"title",null!=C?C:""),H(t,"zIndex",w),H(t,"collisionBehavior",h),(0,o.useEffect)((()=>{t&&(t.gmpDraggable=void 0!==b?b:!!(m||g||f))}),[t,b,m,f,g]),(0,o.useEffect)((()=>{t&&(t.gmpClickable=void 0!==v?v:!!p)}),[t,v,p]),j(t,"click",p),j(t,"drag",m),j(t,"dragstart",g),j(t,"dragend",f),[t,r]}(e),l=(0,o.useMemo)((()=>r?{marker:r}:null),[r]);return(0,o.useImperativeHandle)(t,(()=>r),[r]),s?o.createElement(Z.Provider,{value:l},(0,a.createPortal)(n,s)):null}));const J=["children","headerContent","style","className","pixelOffset","anchor","shouldFocus","onClose","onCloseClick"],B=e=>{const{children:t,headerContent:n,style:r,className:s,pixelOffset:l,anchor:i,shouldFocus:c,onClose:d,onCloseClick:p}=e,m=u(e,J),g=_("maps"),[f,h]=(0,o.useState)(null),v=(0,o.useRef)(null),b=(0,o.useRef)(null);(0,o.useEffect)((()=>{if(!g)return;v.current=document.createElement("div"),b.current=document.createElement("div");const e=m;l&&(e.pixelOffset=new google.maps.Size(l[0],l[1])),n&&(e.headerContent="string"==typeof n?n:b.current);const t=new google.maps.InfoWindow(m);return t.setContent(v.current),h(t),()=>{var e,n;t.setContent(null),null==(e=v.current)||e.remove(),null==(n=b.current)||n.remove(),v.current=null,b.current=null,h(null)}}),[g]);const y=(0,o.useRef)(null);(0,o.useEffect)((()=>{f&&v.current&&(F(v.current,r||null,y.current),y.current=r||null,s!==v.current.className&&(v.current.className=s||""))}),[f,s,r]),w((()=>{if(!f)return;const e=m;e.pixelOffset=l?new google.maps.Size(l[0],l[1]):null,e.headerContent=n?"string"==typeof n?n:b.current:null,f.setOptions(m)}),[m,l,n]),j(f,"close",d),j(f,"closeclick",p);const C=N();return(0,o.useEffect)((()=>{if(!C||!f||null===i)return;const e=!!i,t={map:C};return i&&(t.anchor=i),void 0!==c&&(t.shouldFocus=c),f.open(t),()=>{e&&f.set("anchor",null),f.close()}}),[f,i,C,c]),o.createElement(o.Fragment,null,v.current&&(0,a.createPortal)(t,v.current),null!==b.current&&(0,a.createPortal)(n,b.current))},G=["onClick","onDrag","onDragStart","onDragEnd","onMouseOver","onMouseOut"],U=(0,o.forwardRef)(((e,t)=>{const n=function(e){const[t,n]=(0,o.useState)(null),r=N(),{onClick:a,onDrag:s,onDragStart:l,onDragEnd:i,onMouseOver:c,onMouseOut:d}=e,p=u(e,G),{position:m,draggable:g}=p;return(0,o.useEffect)((()=>{if(!r)return void(void 0===r&&console.error("<Marker> has to be inside a Map component."));const e=new google.maps.Marker(p);return e.setMap(r),n(e),()=>{e.setMap(null),n(null)}}),[r]),(0,o.useEffect)((()=>{if(!t)return;const e=t,n=google.maps.event;return a&&n.addListener(e,"click",a),s&&n.addListener(e,"drag",s),l&&n.addListener(e,"dragstart",l),i&&n.addListener(e,"dragend",i),c&&n.addListener(e,"mouseover",c),d&&n.addListener(e,"mouseout",d),t.setDraggable(Boolean(g)),()=>{n.clearInstanceListeners(e)}}),[t,g,a,s,l,i,c,d]),(0,o.useEffect)((()=>{t&&p&&t.setOptions(p)}),[t,p]),(0,o.useEffect)((()=>{!g&&m&&t&&t.setPosition(m)}),[g,m,t]),t}(e);return(0,o.useImperativeHandle)(t,(()=>n),[n]),o.createElement(o.Fragment,null)})),K=window.wp.element,V=({position:e,showInfo:t,info:n})=>{const[r,a]=(0,K.useState)(!1);return(0,o.createElement)("div",{className:"nexa-gmap-marker"},(0,o.createElement)(U,{position:e,onClick:()=>{a(!r)}}),t&&r&&n&&(0,o.createElement)(B,{position:e,onCloseClick:()=>{a(!1)}},(0,o.createElement)(K.RawHTML,{className:"nexa-gmap-marker-info"},n)))},W=e=>{const{lat:t,lng:n,zoom:r,mapType:a,language:s,addMarkerInfo:l,markerInfo:i,uiControls:u,mapStyleType:c,mapStyle:d}=e;return(0,o.createElement)(f,{apiKey:nexaGLocalize?.gmap_api,libraries:["places"],language:s},(0,o.createElement)(z,{..."custom"===c&&{styles:JSON.parse(d)||[]},..."default"===c&&{styles:[]},defaultCenter:{lat:t||53.551086,lng:n||9.993682},defaultZoom:r||10,zoom:r||10,center:{lat:t||53.551086,lng:n||9.993682},mapTypeId:a,language:s,scaleControl:u?.scaleControl,zoomControl:u?.zoomControl,mapTypeControl:u?.mapTypeControl,fullscreenControl:u?.fullScreenControl},(0,o.createElement)(V,{position:{lat:t||53.551086,lng:n||9.993682},showInfo:l,info:i})))};document.addEventListener("DOMContentLoaded",(()=>{const e=document.querySelectorAll(".nx-gmap-wrapper");e&&e.length>0&&e.forEach((e=>{const t=parseFloat(e.getAttribute("data-lat")),n=parseFloat(e.getAttribute("data-lng")),a=parseInt(e.getAttribute("data-zoom")),s=e.getAttribute("data-mtype"),l=e.getAttribute("data-lang"),i=JSON.parse(e.getAttribute("data-uc")),u=e.getAttribute("data-mstype"),c=JSON.parse(e.getAttribute("data-mstyle")),d=e.getAttribute("data-am"),p=e.getAttribute("data-mc");(0,r.H)(e).render((0,o.createElement)(W,{lat:t,lng:n,zoom:a,mapType:s,language:l,uiControls:i,mapStyleType:u,mapStyle:c,addMarkerInfo:d,markerInfo:p}))}))}))})();